<odoo>
    <record id="account_moves" model="ir.ui.view">
        <field name="name">account.move.inherit.payment.method</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form" />
        <field name="arch" type="xml">

            <!-- Add payment method and payment date fields after partner field for better
            visibility -->
            <xpath expr="//field[@name='partner_id']" position="after">
                <field name="payment_method" widget="radio">
                    <modifier name="readonly">[["state", "!=", "draft"]]</modifier>
                </field>
                <field name="payment_date"
                    invisible="payment_method == False"
                    required="payment_method != False">
                    <modifier name="readonly">[["state", "!=", "draft"]]</modifier>
                </field>
            </xpath>

            <!-- Replace ribbon widget logic with correct modifiers -->
            <xpath expr="//widget[@name='web_ribbon'][1]" position="replace">
                <widget name="web_ribbon" title="Paid (VISA)">
                    <modifier name="invisible">
                        ["|", "&amp;", ["payment_state", "!=", "paid"],
                        ["move_type", "not in", ["out_invoice", "out_refund", "in_invoice",
                        "in_refund", "out_receipt", "in_receipt"]],
                        ["payment_method", "=", "bank"]]
                    </modifier>
                </widget>
                <widget name="web_ribbon" title="Paid (BANK)">
                    <modifier name="invisible">
                        ["|", "&amp;", ["payment_state", "!=", "paid"],
                        ["move_type", "not in", ["out_invoice", "out_refund", "in_invoice",
                        "in_refund", "out_receipt", "in_receipt"]],
                        ["payment_method", "=", "visa"]]
                    </modifier>
                </widget>
            </xpath>

        </field>
    </record>
</odoo>